language: java
matrix:
    include:
        - os: linux
          dist: bionic
          jdk:
              - openjdk11

        - os: linux
          dist: trusty
          addons:
              apt:
                  sources:
                      - ubuntu-toolchain-r-test
                  packages:
                      - g++-7
          jdk:
              - openjdk8

        - os: osx


## Uncomment section below and the packages above to build unreleased snapshots of karmaresearch/vlog into vlog4j-base jar
before_install:
 - sh ./build-vlog-library.sh

install: mvn install $OPTIONS -DskipTests=true

after_success:
  - mvn clean test jacoco:report coveralls:report

dist: bionic
sudo: false

cache:
  directories:
    - ./local_builds
    - $HOME/.m2
